# ğŸ¯ å…¨é¡µé¢åŠŸèƒ½æµ‹è¯•ç­–ç•¥

## ğŸ“Š å½“å‰æµ‹è¯•çŠ¶å†µåˆ†æ

### å·²å®ç°çš„æµ‹è¯•ï¼ˆ39ä¸ªæµ‹è¯•æ–‡ä»¶ï¼‰

- âœ… å•å…ƒæµ‹è¯•ï¼š36ä¸ªæ–‡ä»¶
- âœ… E2Eæµ‹è¯•ï¼š3ä¸ªæ–‡ä»¶ï¼ˆç™»å½•ã€å•†å“ã€ä¼šå‘˜ï¼‰
- âŒ è¦†ç›–ç‡ï¼šçº¦15-20%ï¼ˆè¿œä½äº90%ç›®æ ‡ï¼‰

### éœ€è¦æµ‹è¯•çš„é¡µé¢æ€»æ•°ï¼š62ä¸ª

1. **ä¸»åº”ç”¨é¡µé¢**ï¼š2ä¸ª

   - `/app/page.tsx` - ç™»å½•é¡µé¢
   - `/app/mobile/page.tsx` - ç§»åŠ¨ç«¯é¦–é¡µ

2. **ä»ªè¡¨ç›˜é¡µé¢**ï¼š60ä¸ª
   - AIåŠŸèƒ½æ¨¡å—ï¼š15ä¸ªé¡µé¢
   - 5GæŠ€æœ¯æ¨¡å—ï¼š8ä¸ªé¡µé¢
   - äº§å“ç®¡ç†æ¨¡å—ï¼š12ä¸ªé¡µé¢
   - ä»“å‚¨ç®¡ç†æ¨¡å—ï¼š10ä¸ªé¡µé¢
   - é”€å”®ç®¡ç†æ¨¡å—ï¼š6ä¸ªé¡µé¢
   - æŠ¥è¡¨æ¨¡å—ï¼š8ä¸ªé¡µé¢
   - ç³»ç»Ÿè®¾ç½®æ¨¡å—ï¼š12ä¸ªé¡µé¢
   - å…¶ä»–æ¨¡å—ï¼š15ä¸ªé¡µé¢

## ğŸ”§ æµ‹è¯•æ¡†æ¶é…ç½®

### 1. å•å…ƒæµ‹è¯•ï¼ˆJest + Testing Libraryï¼‰

```typescript
// jest.config.ts å·²é…ç½®
- è¦†ç›–ç‡é˜ˆå€¼ï¼š90%
- æµ‹è¯•ç¯å¢ƒï¼šjsdom
- æ”¯æŒReactç»„ä»¶æµ‹è¯•
- æ”¯æŒAPIæµ‹è¯•
```

### 2. ç«¯åˆ°ç«¯æµ‹è¯•ï¼ˆPlaywrightï¼‰

```typescript
// å·²é…ç½®e2eæµ‹è¯•
- æ”¯æŒçœŸå®æµè§ˆå™¨æµ‹è¯•
- æ”¯æŒé¡µé¢äº¤äº’æµ‹è¯•
- æ”¯æŒå¤šè®¾å¤‡æµ‹è¯•
```

### 3. é›†æˆæµ‹è¯•

```typescript
// jest --testMatch='**/__tests__/integration/**/*.test.ts'
- APIé›†æˆæµ‹è¯•
- ç»„ä»¶é›†æˆæµ‹è¯•
- æ•°æ®æµæµ‹è¯•
```

## ğŸ§ª é¡µé¢åŠŸèƒ½æµ‹è¯•æ¸…å•

### 1. è®¤è¯æµç¨‹æµ‹è¯•ï¼ˆä¼˜å…ˆçº§ï¼šâ­â­â­â­â­ï¼‰

- [ ] ç™»å½•é¡µé¢UIæµ‹è¯•
- [ ] æ‰‹æœºå·éªŒè¯æµ‹è¯•
- [ ] å¯†ç éªŒè¯æµ‹è¯•
- [ ] ç™»å½•æˆåŠŸè·³è½¬æµ‹è¯•
- [ ] ç™»å½•å¤±è´¥é”™è¯¯å¤„ç†æµ‹è¯•
- [ ] ä¼šè¯ç®¡ç†æµ‹è¯•
- [ ] æƒé™éªŒè¯æµ‹è¯•

### 2. ä»ªè¡¨ç›˜é¡µé¢æµ‹è¯•ï¼ˆä¼˜å…ˆçº§ï¼šâ­â­â­â­â­ï¼‰

- [ ] ä¸»ä»ªè¡¨ç›˜æ•°æ®å±•ç¤ºæµ‹è¯•
- [ ] ç»Ÿè®¡å¡ç‰‡åŠŸèƒ½æµ‹è¯•
- [ ] å¿«æ·æ“ä½œæµ‹è¯•
- [ ] å¯¼èˆªèœå•æµ‹è¯•
- [ ] å“åº”å¼å¸ƒå±€æµ‹è¯•

### 3. äº§å“ç®¡ç†æ¨¡å—ï¼ˆä¼˜å…ˆçº§ï¼šâ­â­â­â­ï¼‰

- [ ] å•†å“åˆ—è¡¨é¡µé¢æµ‹è¯•
- [ ] å•†å“æ·»åŠ åŠŸèƒ½æµ‹è¯•
- [ ] å•†å“ç¼–è¾‘åŠŸèƒ½æµ‹è¯•
- [ ] å•†å“åˆ é™¤åŠŸèƒ½æµ‹è¯•
- [ ] æœç´¢è¿‡æ»¤åŠŸèƒ½æµ‹è¯•
- [ ] æ‰¹é‡æ“ä½œæµ‹è¯•

### 4. è®¢å•ç®¡ç†æ¨¡å—ï¼ˆä¼˜å…ˆçº§ï¼šâ­â­â­â­ï¼‰

- [ ] è®¢å•åˆ—è¡¨é¡µé¢æµ‹è¯•
- [ ] è®¢å•åˆ›å»ºæµç¨‹æµ‹è¯•
- [ ] è®¢å•çŠ¶æ€å˜æ›´æµ‹è¯•
- [ ] è®¢å•è¯¦æƒ…æŸ¥çœ‹æµ‹è¯•
- [ ] è®¢å•æœç´¢è¿‡æ»¤æµ‹è¯•

### 5. ä¼šå‘˜ç®¡ç†æ¨¡å—ï¼ˆä¼˜å…ˆçº§ï¼šâ­â­â­â­ï¼‰

- [ ] ä¼šå‘˜åˆ—è¡¨é¡µé¢æµ‹è¯•
- [ ] ä¼šå‘˜ä¿¡æ¯ç¼–è¾‘æµ‹è¯•
- [ ] ä¼šå‘˜æƒé™ç®¡ç†æµ‹è¯•
- [ ] ä¼šå‘˜æ•°æ®ç»Ÿè®¡æµ‹è¯•

### 6. æŠ¥è¡¨æ¨¡å—ï¼ˆä¼˜å…ˆçº§ï¼šâ­â­â­ï¼‰

- [ ] ä¸šåŠ¡æŠ¥è¡¨é¡µé¢æµ‹è¯•
- [ ] æ•°æ®ç­›é€‰åŠŸèƒ½æµ‹è¯•
- [ ] å›¾è¡¨æ¸²æŸ“æµ‹è¯•
- [ ] æŠ¥è¡¨å¯¼å‡ºåŠŸèƒ½æµ‹è¯•

### 7. ä»“å‚¨ç®¡ç†æ¨¡å—ï¼ˆä¼˜å…ˆçº§ï¼šâ­â­â­ï¼‰

- [ ] åº“å­˜åˆ—è¡¨æµ‹è¯•
- [ ] å…¥åº“æ“ä½œæµ‹è¯•
- [ ] å‡ºåº“æ“ä½œæµ‹è¯•
- [ ] åº“å­˜é¢„è­¦æµ‹è¯•

### 8. ç³»ç»Ÿè®¾ç½®æ¨¡å—ï¼ˆä¼˜å…ˆçº§ï¼šâ­â­ï¼‰

- [ ] åŸºæœ¬è®¾ç½®é¡µé¢æµ‹è¯•
- [ ] æ‰“å°æœºé…ç½®æµ‹è¯•
- [ ] ç³»ç»Ÿå‚æ•°è®¾ç½®æµ‹è¯•

## ğŸ” æŒ‰é’®äº¤äº’æµ‹è¯•ç­–ç•¥

### 1. åŸºæœ¬äº¤äº’æµ‹è¯•

```typescript
// æŒ‰é’®ç‚¹å‡»æµ‹è¯•
test("åº”è¯¥å“åº”æŒ‰é’®ç‚¹å‡»", async ({ page }) => {
  await page.goto("/dashboard")
  
  // æµ‹è¯•ä¸»è¦æ“ä½œæŒ‰é’®
  await page.click('[data-testid="add-button"]')
  await expect(page.locator('[data-testid="modal"]')).toBeVisible()
  
  // æµ‹è¯•è¡¨å•æäº¤
  await page.fill('[name="productName"]', "æµ‹è¯•å•†å“")
  await page.click('[type="submit"]')
  await expect(page.locator('[data-testid="success-message"]')).toBeVisible()
})
```

### 2. è¡¨å•äº¤äº’æµ‹è¯•

```typescript
// è¡¨å•éªŒè¯æµ‹è¯•
test("è¡¨å•éªŒè¯åº”è¯¥å·¥ä½œ", async ({ page }) => {
  await page.goto("/products/create")
  
  // æµ‹è¯•å¿…å¡«å­—æ®µéªŒè¯
  await page.click('[type="submit"]')
  await expect(page.locator('[data-testid="error-required"]')).toBeVisible()
  
  // æµ‹è¯•è¾“å…¥éªŒè¯
  await page.fill('[name="price"]', "-10")
  await page.blur('[name="price"]')
  await expect(page.locator('[data-testid="error-price"]')).toBeVisible()
})
```

### 3. å¤æ‚äº¤äº’æµ‹è¯•

```typescript
// å¤šæ­¥éª¤äº¤äº’æµ‹è¯•
test("å¤æ‚ä¸šåŠ¡æµç¨‹æµ‹è¯•", async ({ page }) => {
  await loginAsAdmin(page)
  await page.goto("/orders/create")
  
  // é€‰æ‹©åŒ…å¢
  await page.selectOption('[name="roomId"]', "A101")
  await expect(page.locator('[data-testid="room-info"]')).toBeVisible()
  
  // æ·»åŠ å•†å“
  await page.click('[data-testid="add-product"]')
  await page.selectOption('[name="productId"]', "001")
  await page.fill('[name="quantity"]', "2")
  await page.click('[data-testid="confirm-add"]')
  
  // æäº¤è®¢å•
  await page.click('[data-testid="submit-order"]')
  await expect(page.locator('[data-testid="order-success"]')).toBeVisible()
})
```

## ğŸ“ˆ è¦†ç›–ç‡æå‡è®¡åˆ’

### ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€é¡µé¢æµ‹è¯•ï¼ˆç›®æ ‡è¦†ç›–ç‡ï¼š40%ï¼‰

1. **ç™»å½•è®¤è¯æµç¨‹æµ‹è¯•**

   - åˆ›å»ºç™»å½•é¡µé¢E2Eæµ‹è¯•
   - åˆ›å»ºæƒé™éªŒè¯æµ‹è¯•
   - åˆ›å»ºä¼šè¯ç®¡ç†æµ‹è¯•

2. **æ ¸å¿ƒåŠŸèƒ½é¡µé¢æµ‹è¯•**

   - ä»ªè¡¨ç›˜ä¸»é¡µé¢æµ‹è¯•
   - äº§å“åˆ—è¡¨é¡µé¢æµ‹è¯•
   - è®¢å•åˆ—è¡¨é¡µé¢æµ‹è¯•

### ç¬¬äºŒé˜¶æ®µï¼šå®Œæ•´æ¨¡å—æµ‹è¯•ï¼ˆç›®æ ‡è¦†ç›–ç‡ï¼š70%ï¼‰

1. **æ‰€æœ‰ä¸»è¦æ¨¡å—é¡µé¢æµ‹è¯•**

   - AIåŠŸèƒ½æ¨¡å—ï¼ˆ15ä¸ªé¡µé¢ï¼‰
   - äº§å“ç®¡ç†æ¨¡å—ï¼ˆ12ä¸ªé¡µé¢ï¼‰
   - é”€å”®ç®¡ç†æ¨¡å—ï¼ˆ6ä¸ªé¡µé¢ï¼‰

2. **ç»„ä»¶çº§å•å…ƒæµ‹è¯•**

   - é€šç”¨ç»„ä»¶æµ‹è¯•
   - è¡¨å•ç»„ä»¶æµ‹è¯•
   - æ•°æ®å±•ç¤ºç»„ä»¶æµ‹è¯•

### ç¬¬ä¸‰é˜¶æ®µï¼šå…¨é¢æµ‹è¯•è¦†ç›–ï¼ˆç›®æ ‡è¦†ç›–ç‡ï¼š90%+ï¼‰

1. **è¾¹ç¼˜åŠŸèƒ½å’Œå¼‚å¸¸æƒ…å†µæµ‹è¯•**

   - é”™è¯¯é¡µé¢æµ‹è¯•
   - ç©ºæ•°æ®çŠ¶æ€æµ‹è¯•
   - æ€§èƒ½æµ‹è¯•

2. **é›†æˆæµ‹è¯•**

   - APIé›†æˆæµ‹è¯•
   - æ•°æ®æµæµ‹è¯•
   - è·¨æ¨¡å—åŠŸèƒ½æµ‹è¯•

## ğŸ› ï¸ æµ‹è¯•å·¥å…·é…ç½®

### 1. æµ‹è¯•æ•°æ®ç®¡ç†

```typescript
// tests/factories/
- userFactory.ts - ç”¨æˆ·æ•°æ®å·¥å‚
- productFactory.ts - äº§å“æ•°æ®å·¥å‚
- orderFactory.ts - è®¢å•æ•°æ®å·¥å‚
- roomFactory.ts - åŒ…å¢æ•°æ®å·¥å‚
```

### 2. æµ‹è¯•è¾…åŠ©å·¥å…·

```typescript
// tests/helpers/
- testUtils.ts - é€šç”¨æµ‹è¯•å·¥å…·
- authHelper.ts - è®¤è¯è¾…åŠ©
- dataHelper.ts - æ•°æ®è¾…åŠ©
- apiHelper.ts - APIè¾…åŠ©
```

### 3. é¡µé¢å¯¹è±¡æ¨¡å‹ï¼ˆPOMï¼‰

```typescript
// tests/pages/
- DashboardPage.ts - ä»ªè¡¨ç›˜é¡µé¢å¯¹è±¡
- ProductsPage.ts - äº§å“é¡µé¢å¯¹è±¡
- OrdersPage.ts - è®¢å•é¡µé¢å¯¹è±¡
```

## ğŸ“‹ æµ‹è¯•æ‰§è¡Œè®¡åˆ’

### æ¯æ—¥æµ‹è¯•ä»»åŠ¡
1. **å‘¨ä¸€-å‘¨ä¸‰**ï¼šé¡µé¢åŠŸèƒ½æµ‹è¯•å¼€å‘
2. **å‘¨å››**ï¼šç»„ä»¶æµ‹è¯•å¼€å‘
3. **å‘¨äº”**ï¼šé›†æˆæµ‹è¯•å’Œè¦†ç›–ç‡æ£€æŸ¥
4. **æŒç»­**ï¼šCI/CDä¸­è‡ªåŠ¨æ‰§è¡Œæµ‹è¯•

### æµ‹è¯•æ‰§è¡Œå‘½ä»¤

```bash
# å•å…ƒæµ‹è¯•
npm run test

# è¿è¡Œè¦†ç›–ç‡æµ‹è¯•
npm run test:coverage

# ç›‘è§†æ¨¡å¼è¿è¡Œæµ‹è¯•
npm run test:watch

# E2Eæµ‹è¯•
npm run test:e2e

# è¿è¡Œç‰¹å®šæ¨¡å—æµ‹è¯•
npm run test:e2e:auth

# è°ƒè¯•æ¨¡å¼è¿è¡Œ
npm run test:e2e:debug

# é›†æˆæµ‹è¯•
npm run test:integration

# æ‰€æœ‰æµ‹è¯•
npm run test:all
```

## ğŸ¯ æˆåŠŸæ ‡å‡†

1. **è¦†ç›–ç‡æŒ‡æ ‡**
   - è¯­å¥è¦†ç›–ç‡ï¼šâ‰¥90%
   - åˆ†æ”¯è¦†ç›–ç‡ï¼šâ‰¥90%
   - å‡½æ•°è¦†ç›–ç‡ï¼šâ‰¥90%
   - è¡Œè¦†ç›–ç‡ï¼šâ‰¥90%

2. **åŠŸèƒ½å®Œæ•´æ€§**
   - 62ä¸ªé¡µé¢100%æœ‰å¯¹åº”æµ‹è¯•
   - æ‰€æœ‰æŒ‰é’®äº¤äº’100%å¯æµ‹è¯•
   - æ‰€æœ‰è¡¨å•éªŒè¯100%è¦†ç›–
   - æ‰€æœ‰ä¸šåŠ¡æµç¨‹100%éªŒè¯

3. **è´¨é‡ä¿è¯**
   - æ‰€æœ‰æµ‹è¯•é€šè¿‡ç‡100%
   - æ€§èƒ½æµ‹è¯•é€šè¿‡
   - å®‰å…¨æµ‹è¯•é€šè¿‡
   - å…¼å®¹æ€§æµ‹è¯•é€šè¿‡

---

**ğŸš€ å¼€å§‹å®æ–½è¿™ä¸ªæµ‹è¯•ç­–ç•¥ï¼Œæˆ‘ä»¬å¯ä»¥ç³»ç»Ÿæ€§åœ°æå‡é¡¹ç›®çš„æµ‹è¯•è¦†ç›–ç‡ï¼Œç¡®ä¿æ‰€æœ‰é¡µé¢åŠŸèƒ½éƒ½å¾—åˆ°å……åˆ†éªŒè¯ï¼**